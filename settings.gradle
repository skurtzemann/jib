pluginManagement {
    repositories {
        mavenCentral()
        // Workaround from: https://github.com/gradle/gradle/issues/15406#issuecomment-1020352934
        gradlePluginPortal {
            this as MavenArtifactRepository
            metadataSources {
                mavenPom()
                artifact()
                ignoreGradleMetadataRedirection()
            }
        }
    }
}

plugins {
    id "com.gradle.enterprise" version "3.12.2"
    id 'com.gradle.common-custom-user-data-gradle-plugin' version '1.8.2'
}

gradleEnterprise {
    server = "https://ge.gradle.kurtzemann.fr/"
    allowUntrustedServer = false
    buildScan {
        publishAlways()
        capture {
            taskInputFiles = true
        }
        uploadInBackground = System.getenv("CI") == null
    }
}

rootProject.name = "jib"

include ":jib-build-plan"
include ":jib-plugins-extension-common"
include ":jib-gradle-plugin-extension-api"
include ":jib-maven-plugin-extension-api"
include ":jib-core"
include ":jib-plugins-common"
include ":jib-gradle-plugin"
include ":jib-maven-plugin"
include ":jib-cli"
